{"ast":null,"code":"import _slicedToArray from\"/Users/ankitsrivastava/Desktop/react/rich-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useRef,useState}from\"react\";import DropButton from\"../DropButton\";import Task from\"../Task\";var TasksList=function TasksList(_ref,_ref2){var tasks=_ref.tasks;var change=_ref2.change;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedTask=_useState2[0],setSelectedTask=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedNode=_useState4[0],setSelectedNode=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDragging=_useState6[0],setIsDragging=_useState6[1];var containerRef=useRef(null);var dropButtonRef=useRef(null);var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),mouseDownY=_useState8[0],setMouseDownY=_useState8[1];var onMouseDown=function onMouseDown(e){setIsDragging(true);setSelectedNode(e.currentTarget);setMouseDownY(e.pageY||e.changedTouches[0]&&e.changedTouches[0].pageY);e.currentTarget.style.zIndex=1000;document.body.style.overflow='hidden';};var onMouseMove=function onMouseMove(e){var top=(e.pageY||e.changedTouches[0]&&e.changedTouches[0].pageY)-mouseDownY;if(isDragging&top>=0){selectedNode.style.transform=\"translate3d(0,\".concat(top,\"px,0)\");var dist=dropButtonRef.current.offsetTop-selectedNode.offsetTop-top-selectedNode.offsetHeight;if(dist<300){var delta=1-Math.max(300-dist,0)/300*0.9;var scale=Math.max(delta,0.3);selectedNode.style.transform+=\"scale3d(\".concat(scale,\",\").concat(scale,\",\").concat(scale,\")\");}}};var onMouseUp=function onMouseUp(e){setIsDragging(false);e.currentTarget.style.zIndex=0;selectedNode.style.transform=\"translate3d(0,0,0)\";document.body.style.overflow='auto';};return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"task-list-container\",onMouseMove:onMouseMove,onTouchMove:onMouseMove,children:[/*#__PURE__*/_jsx(\"div\",{className:\"tasks-list \".concat(isDragging?'disabled':''),children:tasks.map(function(task,i){return/*#__PURE__*/_jsx(Task,{task:task,onMouseDown:onMouseDown,onMouseUp:onMouseUp},i);})}),/*#__PURE__*/_jsx(DropButton,{ref:dropButtonRef,className:\"\".concat(isDragging?'active':'')})]});};export default TasksList;","map":{"version":3,"sources":["/Users/ankitsrivastava/Desktop/react/rich-todo/src/components/TasksList/index.js"],"names":["useRef","useState","DropButton","Task","TasksList","tasks","change","selectedTask","setSelectedTask","selectedNode","setSelectedNode","isDragging","setIsDragging","containerRef","dropButtonRef","mouseDownY","setMouseDownY","onMouseDown","e","currentTarget","pageY","changedTouches","style","zIndex","document","body","overflow","onMouseMove","top","transform","dist","current","offsetTop","offsetHeight","delta","Math","max","scale","onMouseUp","map","task","i"],"mappings":"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","sourcesContent":["import { useRef, useState } from \"react\";\nimport DropButton from \"../DropButton\";\nimport Task from \"../Task\";\n\nconst TasksList = ({ tasks },{change}) => {\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const containerRef = useRef(null);\n  const dropButtonRef = useRef(null);\n  const [mouseDownY, setMouseDownY] = useState(0);\n\n  const onMouseDown = (e) => {\n    setIsDragging(true);\n    setSelectedNode(e.currentTarget);\n    setMouseDownY(e.pageY || (e.changedTouches[0] && e.changedTouches[0].pageY));\n    e.currentTarget.style.zIndex = 1000;\n    document.body.style.overflow = 'hidden';\n  }\n  const onMouseMove = (e) => {\n    const top = (e.pageY || e.changedTouches[0] && e.changedTouches[0].pageY) - mouseDownY;\n    if (isDragging & top >= 0) {\n      selectedNode.style.transform = `translate3d(0,${top}px,0)`;\n      const dist = dropButtonRef.current.offsetTop - selectedNode.offsetTop - top - selectedNode.offsetHeight;\n      if (dist < 300) {\n        const delta = (1 - (Math.max(300 - dist, 0) / 300 * 0.9));\n        const scale = Math.max(delta, 0.3);\n        selectedNode.style.transform += `scale3d(${scale},${scale},${scale})`;\n      }\n    }\n  }\n  const onMouseUp = (e) => {\n    setIsDragging(false);\n    e.currentTarget.style.zIndex = 0;\n    selectedNode.style.transform = `translate3d(0,0,0)`;\n    document.body.style.overflow = 'auto';\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"task-list-container\"\n      onMouseMove={onMouseMove}\n      onTouchMove={onMouseMove}\n    >\n      <div className={`tasks-list ${isDragging ? 'disabled' : ''}`}>\n        {tasks.map((task, i) => (\n          <Task\n            key={i}\n            task={task}\n            onMouseDown={onMouseDown}\n            onMouseUp={onMouseUp}\n          />\n        ))}\n      </div>\n      <DropButton ref={dropButtonRef} className={`${isDragging ? 'active' : ''}`} />\n    </div>\n  )\n}\n\nexport default TasksList;\n"]},"metadata":{},"sourceType":"module"}